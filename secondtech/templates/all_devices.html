{% extends 'shared/base.html' %}
{% load static %}
{% block stylesheet %}
    <link rel="stylesheet" href="/static/css/devices.css">
{% endblock %}
{% block content %}
    <form class="d-flex justify-content-center" method="post">
        <div class="md-form my-0">
            {% csrf_token %}
            {{ form.text }}
            <button class="btn btn-primary">Search</button>
        </div>
    </form>
    <div class="container mt-5">
        <div class="text-center">
            <h4>All Devices</h4>
        </div>
        <div class="row mt-2 g-1">
            {% for device in devices %}
                <div class="col-md-3 p-1">
                    <div class="card p-2 device-card bg-light border border-dark">
                        <div class="text-right">
                            Uploaded by:
                            <a class="card-btn-profile"
                               href="{% url 'user profile' device.user.pk %}">{{ device.user }}</a>
                        </div>
                        <div class="text-center mt-2 p-3">
                            <img src="{{ device.image.url }}" height="100" alt="device image"/>
                            <span class="d-block font-weight-bold text-capitalize">{{ device.title }}</span>
                            <hr>
                            <span class="font-weight-bold text-capitalize">{{ device.type }}</span>
                            <div class="d-flex flex-row align-items-center justify-content-center">
                                <i class="fa fa-map-marker"></i>
                                <small class="ml-1 text-capitalize">Location: {{ device.user.userprofile.location }}</small>
                            </div>
                            <div class="d-flex justify-content-between mt-3"><span>${{ device.price }}</span>
                                <a href="{% url 'details device' device.pk %}"
                                   class="btn btn-sm btn-outline-dark btn-dark text-white">Details</a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}